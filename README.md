# Лабораторная работа 6: Рефакторинг

## Проблемы качества исходного кода
- Длинная функция (более 60 строк)
- Смешение логики: парсинг, валидация, расчеты
- Магические числа в коде
- Сложные вложенные условия для купонов
- Низкая читаемость

## Примененные методы рефакторинга
- **Выделение функций**: длинная функция разбита на 9 маленьких функций
- **Вынос констант**: `DEFAULT_CURRENCY`, `TAX_RATE`, `COUPON_RULES`
- **Упрощение условий**: замена `if-elif` на словарь правил для купонов
- **Улучшение имен функций и переменных**: понятные и самодокументируемые названия

## Что улучшилось
- **Читаемость**: код теперь как сценарий — парсинг → валидация → расчеты → результат
- **Изменяемость**: новый купон = одна запись в словаре
- **Тестируемость**: функции тестируются отдельно
- **Поддержка**: ошибки проще находить и исправлять

## Результат
- Все 4 теста проходят
- Код соответствует принципам **DRY** и **KISS**
- Дальнейшая разработка упрощена
